/* ===== JadeGrid 核心主題（靈感：AG Grid 主題化 + Grid.js 簡潔樣式） ===== */
    :root {
      --jdg-font: system-ui, -apple-system, Segoe UI, Roboto, Noto Sans, PingFang TC, Hiragino Sans, "Microsoft JhengHei", Arial, sans-serif;
      --jdg-bg: #ffffff;
      --jdg-fg: #1f2937;
      --jdg-muted: #6b7280;
      --jdg-accent: #2f7efb;
      --jdg-border: #e5e7eb;
      --jdg-row-hover: #f9fafb;
      --jdg-row-alt: #fafafa;
      --jdg-focus: rgba(47, 126, 251, 0.35);
      --jdg-danger: #dc2626;
      --jdg-success: #16a34a;
      --jdg-warning: #d97706;
      --jdg-control-bg: #ffffff;
      --jdg-control-border: #cbd5e1;
      --jdg-scrollbar: #c7d2fe;
      --jdg-radius: 8px;
      --jdg-spacing: 8px;
      --jdg-row-height: 36px;
      --jdg-header-height: 40px;
      --jdg-toolbar-h: 44px;
      --jdg-z-header: 5;
      --jdg-z-editor: 10;
    }
    [data-theme="dark"] {
      --jdg-bg: #0f172a;
      --jdg-fg: #e5e7eb;
      --jdg-muted: #9ca3af;
      --jdg-border: #1f2937;
      --jdg-row-hover: #111827;
      --jdg-row-alt: #0b1222;
      --jdg-control-bg: #0b1222;
      --jdg-control-border: #334155;
      --jdg-scrollbar: #334155;
      --jdg-focus: rgba(56, 189, 248, 0.35);
    }

    html, body {
      height: 100%;
      margin: 0;
      background: var(--jdg-bg);
      color: var(--jdg-fg);
      color: var(--jdg-fg);
      font-family: var(--jdg-font);
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
    }

    /* 容器 */
    .jdg {
      --jdg-gridline: 1px solid var(--jdg-border);
      border: var(--jdg-gridline);
      border-radius: var(--jdg-radius);
      background: var(--jdg-bg);
      display: flex;
      flex-direction: column;
      min-height: 240px;
      overflow: hidden;
    }

    /* 工具列 */
    .jdg-toolbar {
      height: var(--jdg-toolbar-h);
      display: flex;
      align-items: center;
      gap: 8px;
      padding: 0 calc(var(--jdg-spacing) * 1.25);
      border-bottom: var(--jdg-gridline);
      background: var(--jdg-bg);
    }
    .jdg-toolbar .jdg-spacer { flex: 1; }
    .jdg-btn {
      height: 30px;
      border-radius: 6px;
      border: 1px solid var(--jdg-control-border);
      background: var(--jdg-control-bg);
      color: var(--jdg-fg);
      font-size: 12px;
      padding: 0 10px;
      cursor: pointer;
    }
    .jdg-btn.primary {
      border-color: var(--jdg-accent);
      background: var(--jdg-accent);
      color: #fff;
    }
    .jdg-input, .jdg-select {
      height: 30px;
      border-radius: 6px;
      border: 1px solid var(--jdg-control-border);
      background: var(--jdg-control-bg);
      color: var(--jdg-fg);
      font-size: 12px;
      padding: 0 8px;
      outline: none;
    }
    .jdg-input:focus, .jdg-select:focus {
      box-shadow: 0 0 0 3px var(--jdg-focus);
      border-color: var(--jdg-accent);
    }

    /* 表頭 */
    .jdg-header {
      position: sticky;
      top: 0;
      z-index: var(--jdg-z-header);
      background: var(--jdg-bg);
      border-bottom: var(--jdg-gridline);
    }
    .jdg-header-row, .jdg-row {
      display: flex;
      align-items: stretch;
    }
    .jdg-header-row {
      height: var(--jdg-header-height);
      user-select: none;
    }
    .jdg-header-cell, .jdg-cell {
      display: inline-flex;
      align-items: center;
      gap: 6px;
      padding: 0 10px;
      border-right: var(--jdg-gridline);
      overflow: hidden;
      white-space: nowrap;
      text-overflow: ellipsis;
    }
    .jdg-header-cell {
      font-weight: 600;
      font-size: 12px;
      background: var(--jdg-bg);
      position: relative;
    }
    .jdg-header-cell:last-child, .jdg-cell:last-child {
      border-right: none;
    }
    .jdg-sort {
      margin-left: auto;
      display: inline-flex;
      gap: 2px;
      opacity: .7;
      font-size: 10px;
    }
    .jdg-sort .active { color: var(--jdg-accent); opacity: 1; }
    .jdg-resizer {
      position: absolute;
      right: 0; top: 0; bottom: 0;
      width: 6px;
      cursor: col-resize;
      background: transparent;
    }
    .jdg-resizer:hover { background: rgba(127,127,127,.15); }

    /* 內容區（虛擬化） */
    .jdg-body {
      position: relative;
      overflow: auto;
      will-change: transform;
      background: var(--jdg-bg);
      height: 60vh; /* 若未指定高度，採預設比例高度 */
    }
    .jdg-virtual-spacer {
      width: 1px;
      opacity: 0;
    }
    .jdg-rows-layer {
      position: absolute;
      left: 0; top: 0; right: 0;
      will-change: transform;
    }
    .jdg-row {
      position: absolute;
      left: 0; right: 0;
      height: var(--jdg-row-height);
      border-bottom: var(--jdg-gridline);
      background: var(--jdg-bg);
      transition: background-color .12s ease;
    }
    .jdg-row:nth-child(even) { background: var(--jdg-row-alt); }
    .jdg-row:hover { background: var(--jdg-row-hover); }
    .jdg-row.selected { outline: 2px solid var(--jdg-accent); outline-offset: -2px; }
    .jdg-cell {
      font-size: 12px;
      height: 100%;
    }
    .jdg-cell.align-right { justify-content: flex-end; }
    .jdg-cell.align-center { justify-content: center; }
    /* Header alignment helpers to mirror cell alignment */
    .jdg-header-cell.align-right { justify-content: flex-end; }
    .jdg-header-cell.align-center { justify-content: center; }

    /* 編輯器 */
    .jdg-editor {
      position: absolute;
      z-index: var(--jdg-z-editor);
      background: var(--jdg-control-bg);
      color: var(--jdg-fg);
      border: 1px solid var(--jdg-accent);
      border-radius: 6px;
      padding: 0;
      display: inline-flex;
      align-items: center;
      overflow: hidden;
      height: calc(var(--jdg-row-height) - 6px);
      box-shadow: 0 0 0 3px var(--jdg-focus);
    }
    .jdg-editor input, .jdg-editor select {
      height: 100%;
      border: none;
      outline: none;
      padding: 0 8px;
      background: transparent;
      color: inherit;
      font-size: 12px;
      min-width: 60px;
    }
    .jdg-validate-msg {
      position: absolute;
      margin-top: calc(var(--jdg-row-height) - 2px);
      background: #111827;
      color: #fff;
      padding: 4px 8px;
      border-radius: 6px;
      font-size: 11px;
      white-space: nowrap;
      transform: translateY(4px);
    }

    /* 分頁列 */
    .jdg-footer {
      border-top: var(--jdg-gridline);
      background: var(--jdg-bg);
      display: flex;
      align-items: center;
      gap: 8px;
      padding: 6px calc(var(--jdg-spacing) * 1.25);
      font-size: 12px;
    }
    .jdg-footer .stats { color: var(--jdg-muted); margin-right: auto; }
    .jdg-page-btn {
      height: 28px; width: 28px;
      border: 1px solid var(--jdg-control-border);
      background: var(--jdg-control-bg);
      border-radius: 6px;
      cursor: pointer;
    }
    .jdg-footer input[type="number"] {
      width: 56px;
      text-align: center;
      height: 28px;
      border-radius: 6px;
      border: 1px solid var(--jdg-control-border);
    }

    /* 捲軸（美化但保持原生） */
    .jdg-body::-webkit-scrollbar {
      width: 10px; height: 10px;
    }
    .jdg-body::-webkit-scrollbar-thumb {
      background-color: var(--jdg-scrollbar);
      border-radius: 6px;
      border: 2px solid transparent;
      background-clip: content-box;
    }

    /* 小螢幕最佳化 */
    @media (max-width: 600px) {
      .jdg-toolbar { flex-wrap: wrap; height: auto; padding: 8px; gap: 6px; }
      .jdg-footer { flex-wrap: wrap; gap: 6px; }
      .jdg { border-radius: 0; border-left: none; border-right: none; }
    }